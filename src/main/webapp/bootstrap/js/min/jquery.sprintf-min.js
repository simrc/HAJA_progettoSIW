jQuery.vsprintf=function e(r,t){function n(e,r,t){if(void 0==r)return"s"==e?"":"0";var n,s="",a="",o=" ";if(t["short"]||t["long"]||t.long_long)switch(e){case"e":case"f":case"G":case"E":case"G":case"d":t["short"]?r>=32767?r=32767:-32768>=r&&(r=-32768):t["long"]?r>=2147483647?r=2147483647:-2147483648>=r&&(r=-2147483648):r>=0x8000000000000000?r=0x8000000000000000:-0x8000000000000000>=r&&(r=-0x8000000000000000);break;case"X":case"B":case"u":case"o":case"x":case"b":0>r&&(r=Math.abs(r)-1),t["short"]?r>=65535&&(r=65535):t["long"]?r>=4294967295&&(r=4294967295):r>=0x10000000000000000&&(r=0x10000000000000000)}switch(e){case"c":n=String.fromCharCode(parseInt(r));break;case"s":n=r.toString();break;case"d":n=new Number(parseInt(r)).toString();break;case"u":n=new Number(parseInt(r)).toString();break;case"o":n=new Number(parseInt(r)).toString(8);break;case"x":n=new Number(parseInt(r)).toString(16);break;case"B":case"b":n=new Number(parseInt(r)).toString(2);break;case"e":var i=t.precision?t.precision:6;n=new Number(r).toExponential(i).toString();break;case"f":var i=t.precision?t.precision:6;n=new Number(r).toFixed(i).toString();break;case"g":var i=t.precision?t.precision:6;n=new Number(r).toPrecision(i).toString();break;case"X":n=new Number(parseInt(r)).toString(16).toUpperCase();break;case"E":var i=t.precision?t.precision:6;n=new Number(r).toExponential(i).toString().toUpperCase();break;case"G":var i=t.precision?t.precision:6;n=new Number(r).toPrecision(i).toString().toUpperCase()}if(t["+"]&&parseFloat(r)>0&&-1!=["d","e","f","g","E","G"].indexOf(e)&&(s="+"),t[" "]&&parseFloat(r)>0&&-1!=["d","e","f","g","E","G"].indexOf(e)&&(s=" "),t["#"]&&0!=parseInt(r))switch(e){case"o":s="0";break;case"x":case"X":s="0x";break;case"b":s="0b";break;case"B":s="0B"}if(t[0]&&!t["-"]&&(o="0"),t.width&&t.width>n.length+s.length)for(var c=t.width-n.length-s.length,f=0;c>f;++f)a+=o;return t["-"]&&!t[0]?n+=a:n=a+n,s+n}if(null==r)throw"Not enough arguments for vsprintf";null==t&&(t=[]);for(var s="",a=0,o=0,i={"long":!1,"short":!1,long_long:!1},c=!1,f=!1,u=!1,g=!1,l=!1,h=!1,p=".",b=0;b<r.length;++b){var w=r.charAt(b);if(c){switch(w){case"i":w="d";break;case"D":i["long"]=!0,w="d";break;case"U":i["long"]=!0,w="u";break;case"O":i["long"]=!0,w="o";break;case"F":w="f"}switch(w){case"c":case"s":case"d":case"u":case"o":case"x":case"e":case"f":case"g":case"X":case"E":case"G":case"b":case"B":var m=t[o];if(l){var d=m;if(m instanceof Array)d=m;else if("string"==typeof m||m instanceof String)d=m.split("").map(function(e){return e.charCodeAt()});else if(("number"==typeof m||m instanceof Number)&&i.bitwidth){d=[];do d.unshift(m&~(-1<<i.bitwidth));while(m>>>=i.bitwidth)}else d=m.toString().split("").map(function(e){return e.charCodeAt()});s+=d.map(function(e){return n(w,e,i)}).join(p)}else s+=n(w,m,i);g||++a,o=a,i={},f=!1,c=!1,u=!1,g=!1,l=!1,h=!1,p=".";break;case"v":l=!0;break;case" ":case"0":case"-":case"+":case"#":i[w]=!0;break;case"*":f=!0;break;case".":u=!0;break;case"@":h=!0;break;case"l":i["long"]?(i.long_long=!0,i["long"]=!1):(i["long"]=!0,i.long_long=!1),i["short"]=!1;break;case"q":case"L":i.long_long=!0,i["long"]=!1,i["short"]=!1;break;case"h":i["short"]=!0,i["long"]=!1,i.long_long=!1}if(/\d/.test(w)){var v=parseInt(r.substr(b)),k=v.toString().length;b+=k-1;var y=r.charAt(b+1);if("$"==y){if(0>v||v>t.length)throw"out of bound";f?(u?(i.precision=t[v-1],u=!1):"v"==r.charAt(b+2)?p=t[v-1]:i.width=t[v-1],f=!1):(g=!0,o=v-1),++b}else u?(i.precision=v,u=!1):h?(i.bitwidth=v,h=!1):i.width=v}else f&&!/\d/.test(r.charAt(b+1))&&(u?(i.precision=t[o],u=!1):"v"==r.charAt(b+1)?p=t[o]:i.width=t[o],++a,g||o++,f=!1)}else{if("%"==w){if("%"==r.charAt(b+1)){s+="%",++b;continue}c=!0;continue}s+=w}}return s},jQuery.sprintf=function r(){if(0==arguments.length)throw"Not enough arguments for sprintf";var e=Array.prototype.slice.call(arguments),r=e.shift();return jQuery.vsprintf(r,e)},jQuery.fn.printf=function t(){if(0==arguments.length)throw"Not enough arguments for sprintf";var e=Array.prototype.slice.call(arguments),r=e.shift();return this.append(jQuery.vsprintf(r,e))},jQuery.fn.vprintf=function n(e,r){if(0==arguments.length)throw"Not enough arguments for sprintf";return this.append(jQuery.vsprintf(e,r))},jQuery.fn.vformat=function s(e){if(0==arguments.length)throw"Not enough arguments for sprintf";return this.each(function(){self=jQuery(this),self.html(jQuery.vsprintf(self.html(),e))})},jQuery.fn.format=function a(){if(0==arguments.length)throw"Not enough arguments for sprintf";var e=Array.prototype.slice.call(arguments);return this.each(function(){self=jQuery(this),self.html(jQuery.vsprintf(self.html(),e))})},jQuery.printf=function o(){if(0==arguments.length)throw"Not enough arguments for sprintf";var e=Array.prototype.slice.call(arguments),r=e.shift(),t=jQuery.vsprintf(r,e);window.console?window.console.info(t):window.dump(t)},jQuery.vprintf=function i(e,r){if(0==arguments.length)throw"Not enough arguments for sprintf";var t=jQuery.vsprintf(e,r);window.console?window.console.info(t):window.dump(t)};